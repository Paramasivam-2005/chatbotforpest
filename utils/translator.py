# Offline translation mapping for demo purposes.
TRANSLATIONS = {
    "hi": {
        "Predicted Pest:": "अनुमानित कीट:",
        "Suggested Control Action:": "सुझाए गए नियंत्रण उपाय:",
        "Please upload an image to identify the pest.": "कृपया कीट की पहचान के लिए एक छवि अपलोड करें।",
        "You asked:": "आपने पूछा:",
        "Predicted Pest: ": "अनुमानित कीट: ",
        # actions (partial translations)
        "Spray Neem oil extract (3%). Introduce natural predators like ladybugs. Avoid excess nitrogen fertilizer.": "नीम के तेल का छिड़काव (3%) करें। लेडीबग जैसे प्राकृतिक शिकारीों को पेश करें। अधिक नाइट्रोजन उर्वरकों से बचें।",
        "Use light traps at night; apply authorised insecticide during vulnerable stages; maintain field sanitation.": "रात में लाइट ट्रैप का उपयोग करें; नाज़ुक चरणों में अधिकृत कीटनाशक का प्रयोग करें; खेत की सफाई बनाए रखें।",
        "Use yellow sticky traps, apply neem oil spray, and remove weed hosts nearby.": "पीले स्टिकी ट्रैप का उपयोग करें, नीम के तेल का छिड़काव करें, और पास के खरपतवार हटाएँ।",
        "Spray Neem extract or Spinosad 45% SC according to label. Use blue sticky traps for monitoring.": "नीम अर्क या स्पिनोसेड 45% एससी लेबल के अनुसार छिड़कें। निगरानी के लिए नीले स्टिकी ट्रैप का उपयोग करें।",
        "Apply Bacillus thuringiensis (Bt) or use light traps. Monitor and remove egg masses.": "बेसिलस थुरिंगियेंसिस (बीटी) लागू करें या लाइट ट्रैप का उपयोग करें। अंडे के समूहों की निगरानी और हटाएं।",
        "Use pheromone traps, release natural enemies, or apply recommended biological insecticides.": "फेरोमोन ट्रैप का उपयोग करें, प्राकृतिक शिकारी जारी करें, या अनुशंसित जैविक कीटनाशक लागू करें।"
    },
    "ta": {
        "Predicted Pest:": "கண்டறியப்பட்ட பூச்சி:",
        "Suggested Control Action:": "பரிந்துரைக்கப்பட்ட கட்டுப்பாட்டு நடவடிக்கை:",
        "Please upload an image to identify the pest.": "தயவுசெய்து பூச்சியை அடையாளம் காண ஒரு படத்தை பதிவேற்றவும்.",
        "You asked:": "நீங்கள் கேட்டது:",
        "Predicted Pest: ": "கண்டறியப்பட்ட பூச்சி: ",
        "Spray Neem oil extract (3%). Introduce natural predators like ladybugs. Avoid excess nitrogen fertilizer.": "நீம் எண்ணெய் சாறு (3%) தெளிய செய்க. லேடிய்பக் போன்ற இயற்கை முன்னாள் விலங்குக்களை அறிமுகப்படுத்துங்கள். அதிக நைட்ரஜன் உரங்களை தவிர்க்கவும்.",
        "Use light traps at night; apply authorised insecticide during vulnerable stages; maintain field sanitation.": "இரவில் லைட் ட்ராப் பயன்படுத்து; பாதுக்காப்பு நிலைகளில் அங்கீகாரம் பெற்ற இன்செக்டிசைடு பாவனை செய்; புல் பராமரிப்பு காப்பாற்று.",
        "Use yellow sticky traps, apply neem oil spray, and remove weed hosts nearby.": "மஞ்சள் ஸ்டிக்கி ட்ராப் பயன்படுத்தவும், நீம் எண்ணெய் தெளிய செய்க மற்றும் அருகிலுள்ள புல் முகவர்களை அகற்றவும்.",
        "Spray Neem extract or Spinosad 45% SC according to label. Use blue sticky traps for monitoring.": "லேபிள் படி நீம் சாறு அல்லது ஸ்பினோசாட் 45% SC தெளிய செய்க. கண்காணிப்பிற்கு நீல ஸ்டிக்கி ட்ராப் பயன்படுத்தவும்.",
        "Apply Bacillus thuringiensis (Bt) or use light traps. Monitor and remove egg masses.": "பாசிலஸ் தூரிங்கியென்சிஸ் (பிடி) பயன்படுத்தவும் அல்லது லைட் ட்ராப் பயன்படுத்து. முட்டை கல்லுகளை கண்காணித்து அகற்றுங்கள்.",
        "Use pheromone traps, release natural enemies, or apply recommended biological insecticides.": "பேரோமோன் ட்ராப் பயன்படுத்தவும், இயற்கை எதிரிகளை விடவும் அல்லது பரிந்துரைக்கப்பட்ட உயிரியல் பள்ளிகள் பயன்படுத்தவும்."
    },
    "te": {
        "Predicted Pest:": "అంచనా వేసిన పురుగు:",
        "Suggested Control Action:": "సూచించిన నియంత్రణ చర్య:",
        "Please upload an image to identify the pest.": "దయచేసి పురుగును గుర్తించడానికి చిత్రాన్ని అప్లోడ్ చేయండి.",
        "You asked:": "మీరు అడిగారు:",
        "Predicted Pest: ": "అంచనా పురుగు: ",
        "Spray Neem oil extract (3%). Introduce natural predators like ladybugs. Avoid excess nitrogen fertilizer.": "నిమ్ ఆయిల్ సారాన్ని (3%) స్ప్రే చేయండి. లేడీబగ్ లాంటి సహజ శత్రువులను విడుదల చేయండి. అధిక నైట్రోజన్ ఎరువులను నివారించండి.",
        "Use light traps at night; apply authorised insecticide during vulnerable stages; maintain field sanitation.": "రాత్రిలో లైట్ ట్రాప్స్ ఉపయోగించండి; సామర్థ్య దశల్లో అనుమతించబడిన పురుగునాశకాన్ని వర్తింపజేయండి; పొల సంరక్షణ పాటించండి.",
        "Use yellow sticky traps, apply neem oil spray, and remove weed hosts nearby.": "పసుపు స్టకి ట్రాప్స్ ఉపయోగించండి, నిమ్ ఆయిల్ స్ప్రే చేయండి మరియు పక్కన ఉన్న చెట్లను తీసివేయండి.",
        "Spray Neem extract or Spinosad 45% SC according to label. Use blue sticky traps for monitoring.": "లేబుల్ ప్రకారం నిమ్ సారం లేదా స్పైనొసాడ్ 45% SC స్ప్రే చేయండి. మానిటరింగ్ కోసం నీలం స్టకి ట్రాప్స్ ఉపయోగించండి.",
        "Apply Bacillus thuringiensis (Bt) or use light traps. Monitor and remove egg masses.": "బాసిలస్ థురింగియెన్సిస్ (బిటి) వర్తించండి లేదా లైట్ ట్రాప్స్ ఉపయోగించండి. గుడ్ల మసాలాలను పర్యవేక్షించండి మరియు తొలగించండి.",
        "Use pheromone traps, release natural enemies, or apply recommended biological insecticides.": "ఫెరోమోన్ ట్రాప్స్ ఉపయోగించండి, సహజ శత్రువులను విడుదల చేయండి, లేదా సిఫార్సు చేయబడిన జీవ జీవనాశకాలను వర్తింపజేయండి."
    },
    "kn": {
        "Predicted Pest:": "ಅಂದಾಜು ಕೀಟ:",
        "Suggested Control Action:": "ಶಿಫಾರಸು ಮಾಡಿದ ನಿಯಂತ್ರಣ ಕ್ರಮ:",
        "Please upload an image to identify the pest.": "ದಯವಿಟ್ಟು ಕೀಟವನ್ನು ಗುರುತಿಸಲು ಚಿತ್ರ ಅಪ್‌ಲೋಡ್ ಮಾಡಿ.",
        "You asked:": "ನೀವು ಕೇಳಿದಿರಿ:",
        "Predicted Pest: ": "ಅಂದಾಜು ಕೀಟ: ",
        "Spray Neem oil extract (3%). Introduce natural predators like ladybugs. Avoid excess nitrogen fertilizer.": "ನಿಂಬೆ ಎಣ್ಣೆ ತೊಗಲುವುದು (3%) ಸಿಂಪಡಿಸಿ. ಲೇಡಿಯ್ಬಗ್ ಮಾದರಿ ಪ್ರಾಕೃತಿ ಶತ್ರುಗಳನ್ನು ಪರಿಚಯಿಸಿ. ಹೆಚ್ಚಿನ ನೈಟ್ರೋಜನ್ ರಾಸಾಯನಿಕ ಬಳಕೆ ತಪ್ಪಿಸಿ.",
        "Use light traps at night; apply authorised insecticide during vulnerable stages; maintain field sanitation.": "ರಾತ್ರಿ ಸಮಯದಲ್ಲಿ ಲೈಟ್ ಟ್ರಾಪ್‌ಗಳನ್ನು ಬಳಸಿರಿ; ಒಪ್ಪಿಗೆಯ ಕೀಟನಾಶಕವನ್ನು ಅನ್ವಯಿಸಿ; ಕಣ್ತುಂಬನ್ನು ಶುದ್ಧವಾಗಿರಿಸಿ.",
        "Use yellow sticky traps, apply neem oil spray, and remove weed hosts nearby.": "ಹಳದಿ ಸ್ಟಿಕ್ಕಿ ಟ್ರಾಪ್‌ಗಳನ್ನು ಬಳಸಿ, ನೀಮ್ ಎಣ್ಣೆ ಸಿಂಪಡಿಸಿ ಮತ್ತು ಹತ್ತಿರದ ಕಾಡುಗಳು ತೆಗೆದುಹಾಕಿ.",
        "Spray Neem extract or Spinosad 45% SC according to label. Use blue sticky traps for monitoring.": "ಲೇಬಲ್ ಪ್ರಕಾರ ನೀಮ್ ಸತಾ ಅಥವಾ ಸ್ಪೈನೊಸಾಡ್ 45% SC ಅನ್ನು ಸಿಂಪಡಿಸಿ. ಮೇಲ್ವಿಚಾರಣೆಗೆ ನೀಲಿ ಸ್ಟಿಕ್ಕಿ ಟ್ರಾಪ್‌ಗಳನ್ನು ಬಳಸಿ.",
        "Apply Bacillus thuringiensis (Bt) or use light traps. Monitor and remove egg masses.": "ಬ್ಯಾಸಿಲಸ್ ಥುರಿಂಗಿಯೆನ್ಸಿಸ್ (ಬಿಟಿ)ನ್ನು ಬಳಸಿ ಅಥವಾ ಲೈಟ್ ಟ್ರಾಪ್‌ಗಳನ್ನು ಬಳಸಿ. ಮೊಟ್ಟೆಗಳ ಗುಚ್ಛಗಳನ್ನು ಮನುಮೋಟಿ ಮಾಡಿ ತೆಗೆದುಹಾಕಿ.",
        "Use pheromone traps, release natural enemies, or apply recommended biological insecticides.": "ಫೆರೋಮೋನ್ ಟ್ರಾಪ್‌ಗಳನ್ನು ಬಳಸಿ, ಬಯೋ ನಿಯಂತ್ರಕರು ಬಿಡುಗಡೆ ಮಾಡಿ, ಅಥವಾ ಶಿಫಾರಸು ಮಾಡಿದ ಜೀವಾಣು ಕೀಟನಾಶಕಗಳನ್ನು ಅನ್ವಯಿಸಿ."
    }
}

def translate(text, lang_code):
    if lang_code == 'en' or not lang_code:
        return text
    mapping = TRANSLATIONS.get(lang_code, {})
    # If exact phrase matches translation mapping, use it; else do phrase replacements
    if text in mapping:
        return mapping[text]
    for en_phrase, tr_phrase in mapping.items():
        text = text.replace(en_phrase, tr_phrase)
    return text
